<g 
  class="module-instance"
  >
  <path 
    ng-if="convexHull!=null"
    ng-attr-d="{{ convexHull | pathify }}"
    ng-class="{ 'convex-hull': true, selected: isSelected }"
    bp-draggable="data"
    on-selection-changed="selectionChanged($selected)"
    />
  <g 
    ng-repeat="node in data.$attributes.module.$attributes.nodes.$models" 
    ng-attr-transform="{{ 'translate('+node.$attributes.position.$attributes.x+' '+node.$attributes.position.$attributes.y+')' }}"
    ng-switch="node.$attributes.className"
    >
    <bp-module-instance ng-switch-when="ModuleInstance" instance="node" editable="false"/>
    <bp-neuron ng-switch-when="Neuron" neuron="node" editable="{{canEdit}}"/>
  </g>  
  <!--g ng-repeat="connection in data.$attributes.connections.$models">
    <bp-connection nodes="data.nodes" connection="connection"/>
  </g-->
</g>