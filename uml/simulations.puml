package simulations {
  interface Simulator {
    +constructor(instance)
    +reset()
    +step()
    +getInstance(): ModuleInstance
    +getState(): ModuleState
  }
  note bottom of Simulator : interface to simulate\nmodule instances

  class LocalSimulator {
    
  }
  LocalSimulator --|> Simulator

  class RemoteSimulator
  RemoteSimulator --|> Simulator

  class WorkerSimulator
  WorkerSimulator --|> Simulator

  Worker <-- WorkerSimulator : calls
  Worker <-- RemoteSimulator : calls
  Worker --> LocalSimulator : uses

  class Worker {
    +onMessage(callback)
    +sendMessage(message)
  }
  
  class Skeleton {
    +create(instance: ModuleInstance)
    +reset(state: ModuelState)
    +step()
    +getState(): ModuleState
    +setState(state: ModuleState)
    +setWeights(weights: Map<Connection, float>)
    +setInputs(inputs: Map<Node, float>)
  }
  Skeleton ... Worker
}

package basics {
  ModuleInstance --o Simulator
  class ModuleInstance {
    +nodes: Node
    +connections: Connection
  }
  note top of ModuleInstance : describes a neuronal net;\nonly instances are simulatable

  interface Serializable {
    +encode(): String
    +decode(String)
  }
  Serializable <|-- ModuleInstance
  Serializable <|-- ModuleState
  
  interface ModuleState {
    +getWeight(connection): float
    +getInput(node): float
  }
  note bottom of ModuleState: represents the execution\nstate of a module instance
  Simulator o-- ModuleState
}